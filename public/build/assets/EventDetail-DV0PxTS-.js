import{r as c,j as e,S as m}from"./app-CM5Pjgle.js";import{B as n}from"./button-Bjx5MZRg.js";import{D as C,a as v,b as I,c as K,d as P,f as E}from"./dialog-B4AlCnM_.js";import{u as F,F as q,a as x,b as h,e as p,c as u,d as j,s as H,o as L,p as T,g as $,n as k}from"./form-DKeo0GNF.js";import{P as B}from"./PartnerLayout-CZDXHv2l.js";import{I as g}from"./input-CHH_k46a.js";import{T as V,a as M,b,c as o,d as R,e as r}from"./table-N-J2yc__.js";import{C as _}from"./calendar-DvsjNeBa.js";import{C as z}from"./clock-CUVXhh6Z.js";import{M as O}from"./map-pin-j6r6_lMd.js";import{P as A}from"./plus-eOWWpgBH.js";import{c as J}from"./createLucideIcon-B-iPChEo.js";import{T as W}from"./trash-2--zRXJwkQ.js";import"./clsx-B-dksMZM.js";import"./index-DqNYhvE9.js";import"./index-XsvbOfX2.js";import"./x-IgM0hN9w.js";import"./layout-dashboard-BsL_2dCF.js";import"./ticket-1YntRqie.js";import"./log-out-Bp4IgZ1A.js";/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],G=J("Pen",Z),Q=L({title:$().min(2).max(50),price:T(a=>Number(a),k()),quota:T(a=>Number(a),k())});function ge({event:a,categories:d}){const[i,f]=c.useState(!1),[S,l]=c.useState(!1),[N,y]=c.useState(null),t=F({resolver:H(Q),defaultValues:{title:"",price:0,quota:0}});function D(s){i&&N?m.put(`/partner/event/detail/${a.id}/category/${N.id}`,s,{onSuccess:()=>{l(!1),f(!1),y(null)}}):m.post(`/partner/event/${a.id}/category`,s,{onSuccess:()=>{l(!1)}}),l(!1),t.reset({title:"",price:0,quota:0})}const w={...a,date:new Date(`${a.date}T${a.time}`)};return e.jsx(B,{children:e.jsxs("div",{className:"max-w-5xl mx-auto py-8 space-y-8",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:justify-between md:items-center gap-6 mb-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("h2",{className:"text-3xl font-bold bg-gradient-to-r from-blue-500 to-cyan-500 bg-clip-text text-transparent",children:a.title}),e.jsxs("div",{className:"flex items-center gap-3 text-gray-600",children:[e.jsx(_,{className:"w-5 h-5"}),e.jsx("span",{children:w.date.toLocaleDateString("id-ID",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),e.jsxs("div",{className:"flex items-center gap-3 text-gray-600",children:[e.jsx(z,{className:"w-5 h-5"}),e.jsxs("span",{children:[w.date.toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit",timeZone:"Asia/Jakarta"})," WIB"]})]}),e.jsxs("div",{className:"flex items-center gap-3 text-gray-600",children:[e.jsx(O,{className:"w-5 h-5"}),e.jsx("span",{children:a.place})]})]}),e.jsxs(C,{open:S,onOpenChange:l,children:[e.jsx(v,{asChild:!0,children:e.jsxs(n,{className:"bg-gradient-to-r from-blue-500 to-cyan-500 text-white font-semibold px-6 py-2 rounded-xl shadow flex items-center gap-2",children:[e.jsx(A,{className:"mr-2 h-4 w-4"}),i?"Edit Kategori":"Tambah Kategori Baru"]})}),e.jsxs(I,{children:[e.jsxs(K,{children:[e.jsx(P,{children:i?"Edit Kategori Tiket":"Tambah Kategori Tiket"}),e.jsx(E,{children:i?"Perbarui data kategori tiket di bawah ini.":"Isi data kategori tiket baru untuk event ini."})]}),e.jsx(q,{...t,children:e.jsxs("form",{onSubmit:t.handleSubmit(D),className:"space-y-6",children:[e.jsx(x,{control:t.control,name:"title",render:({field:s})=>e.jsxs(h,{children:[e.jsx(p,{children:"Nama Kategori"}),e.jsx(u,{children:e.jsx(g,{type:"text",placeholder:"Contoh: VIP, Reguler",...s})}),e.jsx(j,{})]})}),e.jsx(x,{control:t.control,name:"price",render:({field:s})=>e.jsxs(h,{children:[e.jsx(p,{children:"Harga"}),e.jsx(u,{children:e.jsx(g,{type:"number",min:0,placeholder:"Harga tiket",...s})}),e.jsx(j,{})]})}),e.jsx(x,{control:t.control,name:"quota",render:({field:s})=>e.jsxs(h,{children:[e.jsx(p,{children:"Kuota"}),e.jsx(u,{children:e.jsx(g,{type:"number",min:1,placeholder:"Jumlah kuota",...s})}),e.jsx(j,{})]})}),e.jsx(n,{type:"submit",className:"w-full bg-gradient-to-r from-blue-500 to-cyan-500 text-white font-bold py-2 rounded-xl shadow",children:i?"Simpan Perubahan":"Tambah Kategori"})]})})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"bg-white rounded-2xl shadow p-4 flex flex-col items-center",children:[e.jsx("p",{className:"font-bold mb-2 text-blue-600",children:"Poster Event"}),e.jsx("img",{src:a.poster,alt:a.title,className:"w-full h-64 object-cover rounded-xl shadow"})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow p-4 flex flex-col items-center",children:[e.jsx("p",{className:"font-bold mb-2 text-cyan-600",children:"Seating Chart"}),e.jsx("img",{src:a.seating_chart,alt:a.title,className:"w-full h-64 object-cover rounded-xl shadow"})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow p-6 mt-8",children:[e.jsx("h3",{className:"text-xl font-semibold mb-4 text-gray-800",children:"Kategori Tiket"}),e.jsxs(V,{children:[e.jsx(M,{children:e.jsxs(b,{children:[e.jsx(o,{children:"Kategori"}),e.jsx(o,{children:"Harga"}),e.jsx(o,{children:"Kuota Total"}),e.jsx(o,{children:"Kuota Tersedia"}),e.jsx(o,{children:"Aksi"})]})}),e.jsx(R,{children:d&&d.length>0?d.map(s=>e.jsxs(b,{children:[e.jsx(r,{className:"font-medium",children:s.type}),e.jsxs(r,{children:["Rp ",s.price.toLocaleString("id-ID")]}),e.jsx(r,{children:s.quota}),e.jsx(r,{children:s.available_seats}),e.jsx(r,{children:e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(n,{size:"sm",variant:"outline",className:"border-blue-500 text-blue-600 hover:bg-blue-50 flex items-center gap-1",onClick:()=>{f(!0),y(s),t.setValue("title",s.type),t.setValue("price",s.price),t.setValue("quota",s.quota),l(!0)},children:[e.jsx(G,{className:"w-4 h-4"})," Edit"]}),e.jsxs(n,{size:"sm",variant:"outline",className:"border-red-500 text-red-600 hover:bg-red-50 flex items-center gap-1",onClick:()=>m.delete(`/partner/event/detail/${a.id}/category/${s.id}`),children:[e.jsx(W,{className:"w-4 h-4"})," Hapus"]})]})})]},s.id)):e.jsx(b,{children:e.jsx(r,{colSpan:5,className:"text-center text-gray-500 py-8",children:"Tidak ada kategori ditemukan."})})})]})]})]})})}export{ge as default};
