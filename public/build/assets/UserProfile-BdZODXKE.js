import{r as m,j as e,S as F}from"./app-BIx_ZH_8.js";import{u as _,F as C,a as l,b as n,c as i,d,e as x,s as M,o as z,f as V,g as p}from"./form-X2xTWVBg.js";import{B as f}from"./button-B7UHwpEj.js";import{I as h}from"./input-AkzckzGt.js";import{C as B}from"./CustomerLayout-D2GgxF4W.js";import{m as j}from"./proxy-DOZRRjoz.js";import{U as w}from"./user-3mdg6EoY.js";import{C as D,L as I,S as T}from"./save-DU9B8NNU.js";import{c as v}from"./createLucideIcon-Cvm-H_v4.js";import{X as H}from"./x-CPsD-6OO.js";import{M as $}from"./mail-B1ggCI_F.js";import"./utils-CIsb_jhR.js";import"./clsx-B-dksMZM.js";import"./index-C5JFqwWb.js";import"./index-27TSSNlB.js";import"./index-C33Bz-3W.js";import"./ticket-CTayPffi.js";import"./log-out-Cd28VW8K.js";/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],N=v("Lock",G);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],L=v("Shield",O);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],q=v("Upload",X),J=z({name:p().min(2,{message:"Nama harus minimal 2 karakter."}),email:p().email({message:"Gunakan email yang valid."}),photo:V().refine(s=>s instanceof File||typeof s=="string"||s===null,{message:"Foto tidak valid"})}),Q=z({current_password:p().min(1,"Password saat ini harus diisi"),password:p().min(8,"Password minimal 8 karakter"),password_confirmation:p().min(8,"Konfirmasi password minimal 8 karakter")}).refine(s=>s.password===s.password_confirmation,{message:"Password tidak cocok",path:["password_confirmation"]});function ge({user:s}){const u=m.useRef(null),[W,Y]=m.useState(!1),[k,g]=m.useState(!1),[P,b]=m.useState(!1),[y,S]=m.useState(()=>s&&s.photo||null),o=_({resolver:M(J),defaultValues:{name:s.name?s.name:"",email:s.email?s.email:"",photo:s.photo?s.photo:null}}),t=_({resolver:M(Q),defaultValues:{current_password:"",password:"",password_confirmation:""}});function R(a){g(!0),console.log(a);const r=new FormData;r.append("name",a.name),r.append("email",a.email),a.photo instanceof File&&r.append("photo",a.photo),F.post("/profile/update",r,{forceFormData:!0,onSuccess:()=>{console.log("berhasil update"),g(!1)},onError:c=>{console.log(c),g(!1)}})}function A(a){b(!0),console.log(a),F.put("/profile/password",a,{onSuccess:()=>{console.log("berhasil ubah password"),b(!1),t.reset()},onError:r=>{console.log(r),b(!1)}})}const E=()=>{var a;(a=u.current)==null||a.click()},K=()=>{S(null),o.setValue("photo",null),u.current&&(u.current.value="")};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900",children:e.jsx(B,{children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[e.jsxs(j.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center mb-12 bg-gradient-to-r from-gray-900 via-gray-800 to-gray-900 backdrop-blur-sm rounded-2xl py-12 px-8 border border-gray-700/50 shadow-xl",children:[e.jsx("h1",{className:"text-4xl font-bold mb-4",children:e.jsx("span",{className:"bg-gradient-to-r from-blue-400 to-cyan-400 bg-clip-text text-transparent",children:"Profil Saya"})}),e.jsx("p",{className:"text-gray-300 text-lg max-w-2xl mx-auto",children:"Kelola informasi pribadi dan keamanan akun Anda"})]}),e.jsxs("div",{className:"space-y-8",children:[e.jsxs(j.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},className:"relative bg-gradient-to-br from-gray-800 to-gray-900 rounded-2xl shadow-2xl border border-gray-700/50 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500/5 to-cyan-500/5"}),e.jsx("div",{className:"absolute top-0 right-0 w-40 h-40 bg-gradient-to-br from-blue-500/10 to-cyan-500/10 rounded-full blur-3xl -translate-y-20 translate-x-20"}),e.jsxs("div",{className:"relative z-10 p-8",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[e.jsx("div",{className:"p-3 bg-gradient-to-br from-blue-500/20 to-cyan-500/20 rounded-xl",children:e.jsx(w,{className:"w-6 h-6 text-blue-400"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-white",children:"Informasi Profil"}),e.jsx("p",{className:"text-gray-400",children:"Update informasi pribadi Anda"})]})]}),e.jsx(C,{...o,children:e.jsx("form",{onSubmit:o.handleSubmit(R),className:"space-y-6",children:e.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[e.jsx("div",{className:"flex flex-col items-center lg:items-start",children:e.jsx(l,{control:o.control,name:"photo",render:({field:a})=>e.jsxs(n,{className:"flex flex-col items-center",children:[e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"w-32 h-32 rounded-2xl overflow-hidden bg-gradient-to-br from-blue-500/20 to-cyan-500/20 border-2 border-gray-600/50 group-hover:border-blue-500/50 transition-all duration-300",children:y?e.jsx("img",{src:y,alt:"Profile Preview",className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center",children:e.jsx(w,{className:"w-16 h-16 text-gray-400"})})}),e.jsx("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 rounded-2xl flex items-center justify-center transition-all duration-300",children:e.jsx(D,{className:"w-8 h-8 text-white"})})]}),e.jsx(i,{children:e.jsx("input",{ref:u,type:"file",accept:"image/*",className:"hidden",onChange:r=>{var U;const c=(U=r.target.files)==null?void 0:U[0];c&&(S(URL.createObjectURL(c)),a.onChange(c))}})}),e.jsxs("div",{className:"flex gap-2 mt-4",children:[e.jsxs(f,{type:"button",variant:"outline",size:"sm",onClick:E,className:"bg-gradient-to-r from-blue-500 to-cyan-500 hover:from-blue-600 hover:to-cyan-600 text-white border-0 font-medium",children:[e.jsx(q,{className:"w-4 h-4 mr-2"}),"Upload"]}),y&&e.jsxs(f,{type:"button",variant:"outline",size:"sm",onClick:K,className:"border-red-500/50 text-red-400 hover:bg-red-500/10 hover:border-red-500",children:[e.jsx(H,{className:"w-4 h-4 mr-2"}),"Hapus"]})]}),e.jsx(d,{className:"text-red-400 mt-2 text-center"})]})})}),e.jsxs("div",{className:"flex-1 space-y-6",children:[e.jsx(l,{control:o.control,name:"name",render:({field:a})=>e.jsxs(n,{children:[e.jsxs(x,{className:"text-gray-300 font-medium flex items-center gap-2",children:[e.jsx(w,{className:"w-4 h-4 text-blue-400"}),"Nama Pengguna"]}),e.jsx(i,{children:e.jsx(h,{...a,className:"bg-gray-900/50 border-gray-600/50 text-white placeholder-gray-400 focus:border-blue-500 focus:ring-blue-500/20 rounded-xl",placeholder:"Masukkan nama Anda"})}),e.jsx(d,{className:"text-red-400"})]})}),e.jsx(l,{control:o.control,name:"email",render:({field:a})=>e.jsxs(n,{children:[e.jsxs(x,{className:"text-gray-300 font-medium flex items-center gap-2",children:[e.jsx($,{className:"w-4 h-4 text-blue-400"}),"Email"]}),e.jsx(i,{children:e.jsx(h,{...a,type:"email",className:"bg-gray-900/50 border-gray-600/50 text-white placeholder-gray-400 focus:border-blue-500 focus:ring-blue-500/20 rounded-xl",placeholder:"Masukkan email Anda"})}),e.jsx(d,{className:"text-red-400"})]})}),e.jsx(f,{type:"submit",disabled:k,className:"w-full bg-gradient-to-r from-blue-500 to-cyan-500 hover:from-blue-600 hover:to-cyan-600 text-white font-bold py-3 px-6 rounded-xl transition-all duration-200 shadow-lg hover:shadow-cyan-500/25 disabled:opacity-50",children:k?e.jsxs(e.Fragment,{children:[e.jsx(I,{className:"w-4 h-4 mr-2 animate-spin"}),"Menyimpan..."]}):e.jsxs(e.Fragment,{children:[e.jsx(T,{className:"w-4 h-4 mr-2"}),"Simpan Profil"]})})]})]})})})]})]}),e.jsxs(j.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"relative bg-gradient-to-br from-gray-800 to-gray-900 rounded-2xl shadow-2xl border border-gray-700/50 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-red-500/5 to-orange-500/5"}),e.jsx("div",{className:"absolute bottom-0 left-0 w-32 h-32 bg-gradient-to-tr from-red-500/10 to-orange-500/10 rounded-full blur-3xl translate-y-16 -translate-x-16"}),e.jsxs("div",{className:"relative z-10 p-8",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[e.jsx("div",{className:"p-3 bg-gradient-to-br from-red-500/20 to-orange-500/20 rounded-xl",children:e.jsx(L,{className:"w-6 h-6 text-red-400"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-white",children:"Keamanan Akun"}),e.jsx("p",{className:"text-gray-400",children:"Update password untuk menjaga keamanan akun"})]})]}),e.jsx(C,{...t,children:e.jsxs("form",{onSubmit:t.handleSubmit(A),className:"space-y-6",children:[e.jsx(l,{control:t.control,name:"current_password",render:({field:a})=>e.jsxs(n,{children:[e.jsxs(x,{className:"text-gray-300 font-medium flex items-center gap-2",children:[e.jsx(N,{className:"w-4 h-4 text-red-400"}),"Password Saat Ini"]}),e.jsx(i,{children:e.jsx(h,{...a,type:"password",className:"bg-gray-900/50 border-gray-600/50 text-white placeholder-gray-400 focus:border-red-500 focus:ring-red-500/20 rounded-xl",placeholder:"Masukkan password saat ini"})}),e.jsx(d,{className:"text-red-400"})]})}),e.jsx(l,{control:t.control,name:"password",render:({field:a})=>e.jsxs(n,{children:[e.jsxs(x,{className:"text-gray-300 font-medium flex items-center gap-2",children:[e.jsx(N,{className:"w-4 h-4 text-red-400"}),"Password Baru"]}),e.jsx(i,{children:e.jsx(h,{...a,type:"password",className:"bg-gray-900/50 border-gray-600/50 text-white placeholder-gray-400 focus:border-red-500 focus:ring-red-500/20 rounded-xl",placeholder:"Masukkan password baru (minimal 8 karakter)"})}),e.jsx(d,{className:"text-red-400"})]})}),e.jsx(l,{control:t.control,name:"password_confirmation",render:({field:a})=>e.jsxs(n,{children:[e.jsxs(x,{className:"text-gray-300 font-medium flex items-center gap-2",children:[e.jsx(N,{className:"w-4 h-4 text-red-400"}),"Konfirmasi Password"]}),e.jsx(i,{children:e.jsx(h,{...a,type:"password",className:"bg-gray-900/50 border-gray-600/50 text-white placeholder-gray-400 focus:border-red-500 focus:ring-red-500/20 rounded-xl",placeholder:"Konfirmasi password baru"})}),e.jsx(d,{className:"text-red-400"})]})}),e.jsx(f,{type:"submit",disabled:P,className:"w-full bg-gradient-to-r from-red-500 to-orange-500 hover:from-red-600 hover:to-orange-600 text-white font-bold py-3 px-6 rounded-xl transition-all duration-200 shadow-lg hover:shadow-red-500/25 disabled:opacity-50",children:P?e.jsxs(e.Fragment,{children:[e.jsx(I,{className:"w-4 h-4 mr-2 animate-spin"}),"Mengubah Password..."]}):e.jsxs(e.Fragment,{children:[e.jsx(L,{className:"w-4 h-4 mr-2"}),"Ubah Password"]})})]})})]})]})]})]})})})}export{ge as default};
