import{r as p,j as e,S as g}from"./app-CBVgBRVl.js";import{T as j,a as u,b as n,c as i,d as b,e as t}from"./table-XlZbjHAP.js";import{P as f}from"./PartnerLayout-CiCysIL1.js";import{B as x}from"./button--UvzgF_2.js";import{C as y}from"./calendar-CzKOdL9f.js";import{C as N}from"./clock-D5JGQBlm.js";import{M as w}from"./map-pin-C_cmYSsY.js";import{c as k}from"./createLucideIcon-DxSxY2rl.js";import"./utils-lbE3dFcv.js";import"./clsx-B-dksMZM.js";import"./layout-dashboard-CURGNi0B.js";import"./ticket-D7K0HJPR.js";import"./log-out-BBNvm0L0.js";/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],o=k("CircleCheck",T),C={pending:"bg-red-600",settlement:"bg-blue-600",expired:"bg-red-600",failed:"bg-red-600",canceled:"bg-slate-600","checked-in":"bg-green-600"},S={pending:"Pending",settlement:"Paid",expired:"Expired",failed:"Gagal",canceled:"Canceled","checked-in":"Sudah Masuk"};function R({event:a,orders:c}){const[l,d]=p.useState(null),r=(s,h)=>{d(s),g.put(`/partner/order/${s}/status`,{status:h},{onFinish:()=>d(null)})},m={...a,date:new Date(`${a.date}T${a.time}`)};return e.jsx(f,{children:e.jsxs("div",{className:"max-w-5xl mx-auto py-8 space-y-8",children:[e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 flex flex-col md:flex-row gap-8 items-center",children:[e.jsx("img",{src:a.poster,alt:a.title,className:"w-full md:w-64 h-48 object-cover rounded-xl shadow"}),e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsx("h2",{className:"text-2xl font-bold bg-gradient-to-r from-blue-500 to-cyan-500 bg-clip-text text-transparent mb-2",children:a.title}),e.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[e.jsx(y,{className:"w-5 h-5"}),e.jsx("span",{children:m.date.toLocaleDateString("id-ID",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),e.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[e.jsx(N,{className:"w-5 h-5"}),e.jsxs("span",{children:[m.date.toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit",timeZone:"Asia/Jakarta"})," WIB"]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[e.jsx(w,{className:"w-5 h-5"}),e.jsx("span",{children:a.place})]}),e.jsx("p",{className:"text-gray-500 mt-2",children:a.description})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow p-6",children:[e.jsx("h3",{className:"text-xl font-semibold mb-4 text-gray-800",children:"Daftar Pembeli Tiket"}),e.jsxs(j,{children:[e.jsx(u,{children:e.jsxs(n,{children:[e.jsx(i,{children:"Nama Pengguna"}),e.jsx(i,{children:"Tipe Tiket"}),e.jsx(i,{children:"Kuantitas"}),e.jsx(i,{children:"Total Harga"}),e.jsx(i,{children:"Status"}),e.jsx(i,{children:"Aksi"})]})}),e.jsx(b,{children:c.length!==0?c.map(s=>e.jsxs(n,{children:[e.jsx(t,{children:s.name}),e.jsx(t,{children:s.ticket_type}),e.jsx(t,{children:s.quantity}),e.jsxs(t,{children:["Rp ",s.total_price.toLocaleString("id-ID")]}),e.jsx(t,{children:e.jsx("span",{className:`text-white rounded-md px-2 py-1 w-fit text-xs font-semibold ${C[s.status]}`,children:S[s.status]})}),e.jsxs(t,{children:[s.status==="pending"&&e.jsx(x,{size:"sm",className:"bg-green-500 hover:bg-green-600 text-white flex items-center gap-1",disabled:l===s.id,onClick:()=>r(s.id,"settlement"),children:l===s.id?e.jsx("span",{children:"Memproses..."}):e.jsxs(e.Fragment,{children:[e.jsx(o,{className:"w-4 h-4"}),"Konfirmasi Bayar"]})}),s.status==="settlement"&&e.jsx(x,{size:"sm",className:"bg-blue-500 hover:bg-blue-600 text-white flex items-center gap-1",disabled:l===s.id,onClick:()=>r(s.id,"checked-in"),children:l===s.id?e.jsx("span",{children:"Memproses..."}):e.jsxs(e.Fragment,{children:[e.jsx(o,{className:"w-4 h-4"}),"Tandai Sudah Masuk"]})})]})]},s.id)):e.jsx(n,{children:e.jsx(t,{colSpan:6,className:"text-center text-gray-500 py-8",children:"Tidak ada pembeli ditemukan"})})})]})]})]})})}export{R as default};
